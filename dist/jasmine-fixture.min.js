/*! 
jasmine-fixture 0.1 2017-12-20T22:25:11.917Z
Copyright 2017 Massimo Foti (massimo@massimocorner.com)
Licensed under the Apache License, Version 2.0 | http://www.apache.org/licenses/LICENSE-2.0
 */
if("undefined"==typeof jQuery)throw"Unable to find jQuery";void 0===window.jasmineFixture&&(window.jasmineFixture={}),function(){"use strict";jasmineFixture.version="0.1";var config={basePath:"fixtures/",containerId:"jasmine-fixtures"},styleNodes=[];jasmineFixture.cache={},jasmineFixture.clearCache=function(){jasmineFixture.cache={}},jasmineFixture.clearCSS=function(){styleNodes.forEach(function(element){element.remove()})},jasmineFixture.clearHTML=function(){getContainer().remove()},jasmineFixture.appendCSS=function(path){jasmineFixture.preload(path),appendStyle(readFromCache(path))},jasmineFixture.appendHTML=function(path){jasmineFixture.preload(path),appendToContainer(readFromCache(path))},jasmineFixture.loadCSS=function(path){jasmineFixture.preload(path),jasmineFixture.clearCSS(),appendStyle(readFromCache(path))},jasmineFixture.loadHTML=function(path){jasmineFixture.preload(path),loadIntoContainer(readFromCache(path))},jasmineFixture.preload=function(path){"string"===jQuery.type(path)&&(path=[path]),path.forEach(function(element){var fullUrl=assembleUrl(element);"undefined"===jQuery.type(jasmineFixture.cache[fullUrl])&&readIntoCache(fullUrl)})},jasmineFixture.read=function(path){return jasmineFixture.preload(path),readFromCache(path)},jasmineFixture.setup=function(options){return jQuery.extend(config,options),"/"!==config.basePath[config.basePath.length-1]&&(config.basePath+="/"),config};var appendStyle=function(css){var cssNode=jQuery("<style>");cssNode.text(css),styleNodes.push(cssNode),jQuery("head").append(cssNode)},appendToContainer=function(html){getContainer().append(html)},assembleUrl=function(path){return config.basePath+path},getContainer=function(){var currentContainer=jQuery("body").find("#"+config.containerId);if(0!==currentContainer.length)return currentContainer;var container=jQuery("<div>");return container.attr("id",config.containerId),jQuery("body").append(container),container},loadIntoContainer=function(html){var container=getContainer();container.empty(),container.append(html)},readFromCache=function(path){return jasmineFixture.cache[assembleUrl(path)]},readIntoCache=function(url){jQuery.ajax({url:url,async:!1,cache:!1}).done(function(data){jasmineFixture.cache[url]=data}).fail(function(jqXHR){throw"Failed to retrieve fixture at: "+url+" (status: "+jqXHR.status+")"})}}(),afterEach(function(){"use strict";jasmineFixture.clearCSS(),jasmineFixture.clearHTML()});
//# sourceMappingURL=jasmine-fixture.min.js.map
